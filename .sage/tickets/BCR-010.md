# BCR-010: Create ReasoningJSONRPC Handler

**State:** COMPLETED
**Priority:** P0
**Type:** Story

## Description

Implement JSON-RPC handler for `reasoning.bounded_context` method following AgentCore patterns

## Acceptance Criteria

- [x] `services/reasoning_jsonrpc.py` file created
- [x] `handle_bounded_reasoning()` async function implemented
- [x] `@register_jsonrpc_method('reasoning.bounded_context')` decorator applied
- [x] Request validation via BoundedReasoningParams Pydantic model
- [x] Response formatting via BoundedReasoningResult model
- [x] Error handling: INVALID_PARAMS (-32602), INTERNAL_ERROR (-32603), custom -32001 (max iterations)
- [x] A2A context propagation (trace_id, source_agent, target_agent)
- [x] Unit tests for handler logic

## Dependencies

- #BCR-001 (parent epic)
- #BCR-009

## Context

**Specs:** docs/specs/bounded-context-reasoning/spec.md
**Plans:** docs/specs/bounded-context-reasoning/plan.md
**Tasks:** docs/specs/bounded-context-reasoning/tasks.md

## Effort

**Story Points:** 8
**Estimated Duration:** 4 days

## Progress

**Completion Date:** 2025-10-16
**Commit:** 0505bc1 feat(reasoning): #BCR-010 create reasoning JSON-RPC handler

**Implementation Summary:**
- Created `/src/agentcore/reasoning/services/reasoning_jsonrpc.py` with complete JSON-RPC handler
- Implemented `BoundedReasoningParams` and `BoundedReasoningResult` Pydantic models
- Added `handle_bounded_reasoning()` async function with `@register_jsonrpc_method('reasoning.bounded_context')` decorator
- Comprehensive error handling with JSON-RPC error codes (-32602, -32603)
- A2A context extraction and propagation (trace_id, source_agent, target_agent)
- Input sanitization for prompt injection prevention
- Prometheus metrics integration
- 10 unit tests covering all scenarios (validation, success, errors, A2A context, max iterations)
- All tests passing (10/10 PASSED)
- Method successfully registered and verified via app import

**Notes:** Implementation complete and verified. All acceptance criteria met.
