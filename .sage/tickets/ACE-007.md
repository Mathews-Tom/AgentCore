# ACE-007: Implement Delta Generator

**State:** UNPROCESSED
**Priority:** P0
**Type:** Story
**Sprint:** Sprint 1 (Week 1-2)
**Effort:** 8 story points

## Description

Create DeltaGenerator using gpt-4o-mini to generate improvement suggestions from execution traces

**Phase:** Phase 1: Foundation + Original ACE Core

## Acceptance Criteria

- [ ] generate_deltas(execution_trace) returns list of PlaybookDelta
- [ ] Uses gpt-4o-mini (cost-effective for suggestions)
- [ ] LLM prompts extract learnings from traces
- [ ] Confidence scores computed per delta
- [ ] Delta generation latency <5s (p95)
- [ ] Integration tests with mocked Portkey

## Dependencies

- Parent: ACE-001
- Depends on: ACE-006

## Technical Details

**Owner:** Backend Engineer

**Files to modify/create:**

- `src/agentcore/ace/context/delta_generator.py`
- `tests/ace/integration/test_delta_generation.py`

**Estimated Duration:** 8 story points (~3-4 days)

## Testing Requirements

- Unit tests for delta generation logic (90%+ coverage)
- Integration tests with mocked LLM
- Latency performance tests

## Context

- **Specification:** [docs/specs/ace-integration/spec.md](../../docs/specs/ace-integration/spec.md) (FR-ACE-004 to FR-ACE-006)
- **Implementation Plan:** [docs/specs/ace-integration/plan.md](../../docs/specs/ace-integration/plan.md)
- **Task Breakdown:** [docs/specs/ace-integration/tasks.md](../../docs/specs/ace-integration/tasks.md)

## Notes

Delta Generation is the self-supervised learning core:

- Analyzes execution traces for learnings
- Generates playbook improvement suggestions
- Uses cost-effective gpt-4o-mini model
- Target: <$150/month for 100 agents
